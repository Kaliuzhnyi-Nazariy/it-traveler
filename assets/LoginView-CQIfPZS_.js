import{t as c,C as _,o as m,h as u,b as i,w as f,d as g,v as w,D as b,E as V,k as o,y as v,n as S,F as x,G as y}from"./index-CyRid_OZ.js";import{_ as L}from"./IButton-BU25NNzd.js";import{_ as p,u as h}from"./useMutation-D38XPsnA.js";const k=c({__name:"LoginForm",props:{isLoading:{required:!0,default:!1,type:Boolean}},emits:["submit"],setup(d,{emit:n}){const l=d,s=n,e=_({email:"",password:""});return(r,a)=>(m(),u("form",{onSubmit:a[2]||(a[2]=w(t=>s("submit",b(e)),["prevent"]))},[i(p,{class:"mb-4",label:"Email",placeholder:"Email",modelValue:e.email,"onUpdate:modelValue":a[0]||(a[0]=t=>e.email=t)},null,8,["modelValue"]),i(p,{type:"password",label:"Password",placeholder:"Password",modelValue:e.password,"onUpdate:modelValue":a[1]||(a[1]=t=>e.password=t)},null,8,["modelValue"]),i(L,{variant:"gradient",class:"w-full",type:"submit","is-loading":l.isLoading},{default:f(()=>[g(" Login ")]),_:1},8,["is-loading"])],32))}}),C={key:0,class:"text-red-500"},B={__name:"LoginView",setup(d){const n=V(),{isLoading:l,error:s,mutation:e}=h({mutationFn:r=>y.login(r),onSuccess:()=>n.replace("/map")});return(r,a)=>(m(),u(x,null,[i(k,{onSubmit:o(e),"is-loading":o(l)},null,8,["onSubmit","is-loading"]),o(s)?(m(),u("div",C,v(o(s).message),1)):S("",!0)],64))}};export{B as default};
