import{t as c,C as f,o as u,h as d,b as t,w as g,d as _,v as V,D as b,E as w,k as l,y as v,n as x,F as y,G as S}from"./index-CyRid_OZ.js";import{_ as C}from"./IButton-BU25NNzd.js";import{_ as m,u as F}from"./useMutation-D38XPsnA.js";const R=c({__name:"FormRegistration",props:{isLoading:{default:!1,type:Boolean}},emits:["submit"],setup(p,{emit:n}){const i=n,o=p,e=f({username:"",email:"",password:""});return(r,a)=>(u(),d("form",{onSubmit:a[3]||(a[3]=V(s=>i("submit",b(e)),["prevent"]))},[t(m,{class:"mb-4",label:"Full name",modelValue:e.username,"onUpdate:modelValue":a[0]||(a[0]=s=>e.username=s)},null,8,["modelValue"]),t(m,{class:"mb-4",label:"Email",placeholder:"email@email.com",modelValue:e.email,"onUpdate:modelValue":a[1]||(a[1]=s=>e.email=s)},null,8,["modelValue"]),t(m,{label:"Password",type:"password",modelValue:e.password,"onUpdate:modelValue":a[2]||(a[2]=s=>e.password=s)},null,8,["modelValue"]),t(C,{variant:"gradient",class:"w-full mt-10",type:"submit","is-loading":o.isLoading},{default:g(()=>[_(" Create account ")]),_:1},8,["is-loading"])],32))}}),k={key:0,class:"text-red-500"},D={__name:"RegistrationView",setup(p){const n=w(),{isLoading:i,error:o,mutation:e}=F({mutationFn:r=>S.register(r),onSuccess:()=>n.replace("/map")});return(r,a)=>(u(),d(y,null,[t(R,{onSubmit:l(e),"is-loading":l(i)},null,8,["onSubmit","is-loading"]),l(o)?(u(),d("div",k,v(l(o).message),1)):x("",!0)],64))}};export{D as default};
